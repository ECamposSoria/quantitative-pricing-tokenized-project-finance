{
  "timestamp_utc": "2025-11-26T185147Z",
  "monte_carlo": {
    "config": {
      "simulations": 10000,
      "seed": 42,
      "antithetic": true
    },
    "dscr_fan_chart": {
      "years": [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15
      ],
      "p5": [
        NaN,
        NaN,
        NaN,
        NaN,
        0.6835270139430321,
        0.9653767807050536,
        1.2362080643006512,
        1.4097159875525649,
        1.5540091628465817,
        1.470806515464118,
        1.283810371652017,
        1.3453585915452888,
        1.2590080726820136,
        1.1920108753323622,
        1.09256452238409
      ],
      "p25": [
        NaN,
        NaN,
        NaN,
        NaN,
        0.9947621557917468,
        1.4049485505857304,
        1.7990993391130974,
        2.0516118400973054,
        2.2616070373514634,
        2.140519145886418,
        1.8683767384192977,
        1.9579501402852821,
        1.8322810349742127,
        1.7347775345886394,
        1.5900495773513923
      ],
      "p50": [
        NaN,
        NaN,
        NaN,
        NaN,
        1.2353976060645047,
        1.7448091143515205,
        2.234305963161162,
        2.5479018688768984,
        2.8086954288875807,
        2.658316074015307,
        2.3203417384054825,
        2.4315831699255783,
        2.2755143941346496,
        2.1544245534547195,
        1.9746865418501325
      ],
      "p75": [
        NaN,
        NaN,
        NaN,
        NaN,
        1.518117256544772,
        2.1441071383582875,
        2.745624908470757,
        3.1309869600983604,
        3.451462895865463,
        3.2666693585144206,
        2.8513498948536355,
        2.9880488296778496,
        2.7962638524584142,
        2.6474627087407527,
        2.4265918120071865
      ],
      "p95": [
        NaN,
        NaN,
        NaN,
        NaN,
        1.9719136949181701,
        2.7850248136454296,
        3.566348603693815,
        4.0669032899871285,
        4.483176067275217,
        4.243143944944785,
        3.7036769606732594,
        3.881238015656659,
        3.63212456843894,
        3.4388437056785937,
        3.151949960020858
      ]
    },
    "breach_probability": {
      "years": [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15
      ],
      "cumulative": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005,
        0.46330000000000005
      ],
      "survival": [
        1.0,
        1.0,
        1.0,
        1.0,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367,
        0.5367
      ],
      "hazard": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.8632383081796162,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    },
    "asset_value_distribution": {
      "mean": 111508075.02179284,
      "std": 36678834.80343588,
      "p5": 58713687.891506694,
      "p50": 107579903.29531193,
      "p95": 176257770.46196017
    }
  },
  "risk_metrics": {
    "portfolio": {
      "expected_loss": 0.7594125,
      "var_95": 5.625,
      "var_99": 10.5,
      "cvar_95": 6.841554054054054,
      "cvar_99": 11.409509202453988
    },
    "tranches": {
      "senior": {
        "pd_mean": 0.015000000000000006,
        "lgd": 0.3499999999999999,
        "expected_loss": 0.15435,
        "capital_95": 0.0,
        "capital_99": 10.5
      },
      "mezzanine": {
        "pd_mean": 0.03500000000000002,
        "lgd": 0.5499999999999999,
        "expected_loss": 0.23718750000000005,
        "capital_95": 0.0,
        "capital_99": 6.875000000000001
      },
      "subordinated": {
        "pd_mean": 0.06499999999999997,
        "lgd": 0.75,
        "expected_loss": 0.367875,
        "capital_95": 5.625,
        "capital_99": 5.625
      }
    }
  },
  "stress_results": {
    "scenarios_run": [
      "S1",
      "S2",
      "S3",
      "S4",
      "S5",
      "S6",
      "C1",
      "C2",
      "C3",
      "T1",
      "T2",
      "T3",
      "CT1",
      "U1",
      "U2",
      "U3"
    ],
    "ranking_by_dscr_impact": [
      {
        "code": "C1",
        "name": "Perfect Storm",
        "dscr_min_stressed": 1.005,
        "delta": -0.23
      },
      {
        "code": "S3",
        "name": "Fallo de lanzamiento",
        "dscr_min_stressed": 1.015,
        "delta": -0.22
      },
      {
        "code": "C2",
        "name": "Launch + Rates",
        "dscr_min_stressed": 1.045,
        "delta": -0.19
      },
      {
        "code": "S1",
        "name": "Demanda d\u00e9bil",
        "dscr_min_stressed": 1.195,
        "delta": -0.04
      },
      {
        "code": "C3",
        "name": "Operational Cascade",
        "dscr_min_stressed": 1.195,
        "delta": -0.04
      },
      {
        "code": "CT1",
        "name": "Perfect Token Storm",
        "dscr_min_stressed": 1.195,
        "delta": -0.04
      },
      {
        "code": "S5",
        "name": "Regulatorio adverso",
        "dscr_min_stressed": 1.215,
        "delta": -0.02
      },
      {
        "code": "S4",
        "name": "Degradaci\u00f3n operativa",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "S6",
        "name": "CAPEX overrun",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "T1",
        "name": "DeFi Liquidity Crisis",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "T2",
        "name": "Smart Contract Exploit",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "T3",
        "name": "Security Token Regulatory Ban",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "U3",
        "name": "Technology Breakthrough",
        "dscr_min_stressed": 1.235,
        "delta": 0.0
      },
      {
        "code": "S2",
        "name": "Shock de tasas",
        "dscr_min_stressed": 1.265,
        "delta": 0.03
      },
      {
        "code": "U2",
        "name": "Spectrum Award",
        "dscr_min_stressed": 1.435,
        "delta": 0.2
      },
      {
        "code": "U1",
        "name": "Competitor Exit",
        "dscr_min_stressed": 1.535,
        "delta": 0.3
      }
    ],
    "near_misses": [
      {
        "code": "S3",
        "metric": 1.015,
        "threshold": 1.0,
        "margin": 0.015
      },
      {
        "code": "C1",
        "metric": 1.005,
        "threshold": 1.0,
        "margin": 0.005
      },
      {
        "code": "C2",
        "metric": 1.045,
        "threshold": 1.0,
        "margin": 0.045
      }
    ]
  },
  "tokenization_analysis": {
    "mechanisms": {
      "liquidity_premium": {
        "traditional_bps": 75.0,
        "tokenized_bps": 25.0,
        "reduction_bps": 50.0,
        "driver": "secondary_market_depth"
      },
      "operational_efficiency": {
        "traditional_admin_cost_pct": 0.5,
        "tokenized_admin_cost_pct": 0.15,
        "savings_pct": 0.35,
        "driver": "smart_contract_automation"
      },
      "capital_efficiency": {
        "traditional_min_ticket": 1000000.0,
        "tokenized_min_ticket": 100.0,
        "investor_base_expansion": 100.0,
        "driver": "fractional_ownership"
      },
      "transparency_premium": {
        "traditional_info_asymmetry_bps": 25.0,
        "tokenized_info_asymmetry_bps": 5.0,
        "reduction_bps": 20.0,
        "driver": "on_chain_reporting"
      }
    },
    "wacd_impact": {
      "traditional_wacd_bps": 450,
      "tokenized_wacd_bps": 372.28847615636715,
      "total_reduction_bps": 77.71152384363286,
      "breakdown": {
        "liquidity_reduction_bps": 54.21152384363286,
        "operational_reduction_bps": 3.5,
        "transparency_reduction_bps": 20.0
      },
      "assumptions": {
        "secondary_market_depth": 0.6664812556520635,
        "smart_contract_operational": true,
        "on_chain_reporting": true
      }
    },
    "benefit_distribution": {
      "p5": 53.981650376189336,
      "p50": 78.84009181623195,
      "p95": 93.96447252690936,
      "mean": 76.48102967166002
    },
    "market_depth_sensitivity": {
      "depth_0.3": 52.125841822136316,
      "depth_0.5": 66.57618831238881,
      "depth_0.7": 79.88189849875342,
      "depth_0.9": 92.43745891300912
    }
  },
  "current_structure": {
    "senior": 0.6,
    "mezzanine": 0.25,
    "subordinated": 0.15
  },
  "current_wacd_pct": 4.5,
  "is_efficient": false,
  "structure_comparison": {
    "traditional": {
      "can_rebalance": false,
      "is_efficient": false,
      "locked_inefficiency_bps": 0,
      "structure_constraints": {
        "min_senior_pct": 0.55,
        "max_sub_pct": 0.2
      },
      "wacd_bps": 450
    },
    "tokenized": {
      "can_rebalance": true,
      "is_efficient": true,
      "recoverable_value_bps": 0,
      "spread_reduction_bps": 50,
      "total_benefit_bps": 50,
      "target_structure": {
        "senior": 0.8250011701476636,
        "mezzanine": 0.11635333941565609,
        "subordinated": 0.05864549043668041
      },
      "recommended_structure": {
        "senior": 0.55,
        "mezzanine": 0.34,
        "subordinated": 0.12
      },
      "recommended_wacd_bps": 557,
      "theoretical_unconstrained": {
        "senior": 0.8250011701476636,
        "mezzanine": 0.11635333941565609,
        "subordinated": 0.05864549043668041
      },
      "constraint_check": {
        "violates_constraints": false,
        "violations": []
      },
      "optimized_wacd_after_tax": null,
      "optimized_wacd_bps": null
    },
    "delta": {
      "rebalancing_value_bps": 0,
      "liquidity_premium_bps": 50,
      "total_tokenization_benefit_bps": 50,
      "wacd_savings_bps": -107
    }
  },
  "pricing_mc": {
    "prices": {
      "tranche_prices": {
        "senior": {
          "mean": 0.9445427461456782,
          "std": 0.11556316428556049,
          "p5": 0.9553807751439906,
          "p50": 0.9588223962771494,
          "p95": 0.9631097972909882,
          "p99": 0.9653768901393401,
          "prob_below_par": 1.0,
          "deterministic_price": 0.9622320417502783,
          "jensen_adjustment": 0.017689295604600086
        },
        "mezzanine": {
          "mean": 1.025910783082814,
          "std": 0.2023653243958535,
          "p5": 0.8518529197328676,
          "p50": 1.0772861033124808,
          "p95": 1.0772861033124808,
          "p99": 1.0772861033124808,
          "prob_below_par": 0.1003,
          "deterministic_price": 1.0772861033124808,
          "jensen_adjustment": 0.05137532022966673
        },
        "subordinated": {
          "mean": 1.0654150086992438,
          "std": 0.310083367410978,
          "p5": 0.0,
          "p50": 1.2029040469434311,
          "p95": 1.2029040469434311,
          "p99": 1.2029040469434311,
          "prob_below_par": 0.2024,
          "deterministic_price": 1.2029040469434311,
          "jensen_adjustment": 0.13748903824418734
        }
      },
      "scenario_metadata": {
        "simulations": 10000
      },
      "notes": []
    },
    "duration_convexity": {
      "senior": {
        "price": 33498165.644725084,
        "macaulay_duration": 7.844396055738228,
        "modified_duration": 7.506599096400219,
        "convexity": 77.12964307056538,
        "effective_duration": 7.506600676622953,
        "effective_convexity": 77.12965410859407
      },
      "mezzanine": {
        "price": 16386850.917887319,
        "macaulay_duration": 7.489542238701709,
        "modified_duration": 7.167026065743263,
        "convexity": 72.08831058736179,
        "effective_duration": 7.167027524042507,
        "effective_convexity": 72.0883207380541
      },
      "subordinated": {
        "price": 11289675.944402399,
        "macaulay_duration": 7.226315032113598,
        "modified_duration": 6.915134002022582,
        "convexity": 68.34869562967876,
        "effective_duration": 6.915135369878413,
        "effective_convexity": 68.34870503539972
      }
    },
    "rate_sensitivity": {
      "base": {
        "senior": 0.9445427461456782,
        "mezzanine": 1.025910783082814,
        "subordinated": 1.0654150086992438
      },
      "scenarios": {
        "Base": {
          "senior": 0.9445427461456782,
          "mezzanine": 1.025910783082814,
          "subordinated": 1.0654150086992438
        },
        "+50bps": {
          "senior": 0.9057161748383266,
          "mezzanine": 0.9841364635943152,
          "subordinated": 1.0220609173936805
        },
        "-50bps": {
          "senior": 0.9854688661340911,
          "mezzanine": 1.069920958752033,
          "subordinated": 1.1110802592858806
        },
        "Bear Steepener": {
          "senior": 0.8887348599762983,
          "mezzanine": 0.9663191217692869,
          "subordinated": 1.0037421666081896
        },
        "Bull Flattener": {
          "senior": 0.9588971340690255,
          "mezzanine": 1.0416905829524277,
          "subordinated": 1.0819260586265569
        },
        "Fed Hike Path": {
          "senior": 0.8922238687148206,
          "mezzanine": 0.96930257614436,
          "subordinated": 1.0065422761355098
        }
      },
      "price_deltas": [
        {
          "scenario": "Base",
          "tranche": "senior",
          "delta_mean_price": 0.0
        },
        {
          "scenario": "Base",
          "tranche": "mezzanine",
          "delta_mean_price": 0.0
        },
        {
          "scenario": "Base",
          "tranche": "subordinated",
          "delta_mean_price": 0.0
        },
        {
          "scenario": "+50bps",
          "tranche": "senior",
          "delta_mean_price": -0.038826571307351676
        },
        {
          "scenario": "+50bps",
          "tranche": "mezzanine",
          "delta_mean_price": -0.04177431948849886
        },
        {
          "scenario": "+50bps",
          "tranche": "subordinated",
          "delta_mean_price": -0.043354091305563225
        },
        {
          "scenario": "-50bps",
          "tranche": "senior",
          "delta_mean_price": 0.04092611998841289
        },
        {
          "scenario": "-50bps",
          "tranche": "mezzanine",
          "delta_mean_price": 0.044010175669219054
        },
        {
          "scenario": "-50bps",
          "tranche": "subordinated",
          "delta_mean_price": 0.04566525058663684
        },
        {
          "scenario": "Bear Steepener",
          "tranche": "senior",
          "delta_mean_price": -0.05580788616937993
        },
        {
          "scenario": "Bear Steepener",
          "tranche": "mezzanine",
          "delta_mean_price": -0.05959166131352711
        },
        {
          "scenario": "Bear Steepener",
          "tranche": "subordinated",
          "delta_mean_price": -0.06167284209105417
        },
        {
          "scenario": "Bull Flattener",
          "tranche": "senior",
          "delta_mean_price": 0.014354387923347312
        },
        {
          "scenario": "Bull Flattener",
          "tranche": "mezzanine",
          "delta_mean_price": 0.015779799869613642
        },
        {
          "scenario": "Bull Flattener",
          "tranche": "subordinated",
          "delta_mean_price": 0.016511049927313115
        },
        {
          "scenario": "Fed Hike Path",
          "tranche": "senior",
          "delta_mean_price": -0.05231887743085761
        },
        {
          "scenario": "Fed Hike Path",
          "tranche": "mezzanine",
          "delta_mean_price": -0.05660820693845403
        },
        {
          "scenario": "Fed Hike Path",
          "tranche": "subordinated",
          "delta_mean_price": -0.05887273256373393
        }
      ],
      "tornado": {
        "senior": [
          {
            "scenario": "Bear Steepener",
            "delta_mean_price": -0.05580788616937993
          },
          {
            "scenario": "Fed Hike Path",
            "delta_mean_price": -0.05231887743085761
          },
          {
            "scenario": "-50bps",
            "delta_mean_price": 0.04092611998841289
          },
          {
            "scenario": "+50bps",
            "delta_mean_price": -0.038826571307351676
          },
          {
            "scenario": "Bull Flattener",
            "delta_mean_price": 0.014354387923347312
          },
          {
            "scenario": "Base",
            "delta_mean_price": 0.0
          }
        ],
        "mezzanine": [
          {
            "scenario": "Bear Steepener",
            "delta_mean_price": -0.05959166131352711
          },
          {
            "scenario": "Fed Hike Path",
            "delta_mean_price": -0.05660820693845403
          },
          {
            "scenario": "-50bps",
            "delta_mean_price": 0.044010175669219054
          },
          {
            "scenario": "+50bps",
            "delta_mean_price": -0.04177431948849886
          },
          {
            "scenario": "Bull Flattener",
            "delta_mean_price": 0.015779799869613642
          },
          {
            "scenario": "Base",
            "delta_mean_price": 0.0
          }
        ],
        "subordinated": [
          {
            "scenario": "Bear Steepener",
            "delta_mean_price": -0.06167284209105417
          },
          {
            "scenario": "Fed Hike Path",
            "delta_mean_price": -0.05887273256373393
          },
          {
            "scenario": "-50bps",
            "delta_mean_price": 0.04566525058663684
          },
          {
            "scenario": "+50bps",
            "delta_mean_price": -0.043354091305563225
          },
          {
            "scenario": "Bull Flattener",
            "delta_mean_price": 0.016511049927313115
          },
          {
            "scenario": "Base",
            "delta_mean_price": 0.0
          }
        ]
      },
      "dscr_break_even": {
        "breach_rate": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.4633,
          0.1339,
          0.0426,
          0.0224,
          0.013,
          0.0171,
          0.0361,
          0.028,
          0.0394,
          0.0514,
          0.078
        ],
        "note": "DSCR paths assumed invariant to rate shocks; rate scenarios only affect pricing."
      }
    },
    "metadata": {
      "simulations": 10000,
      "curve_currency": "USD"
    }
  },
  "hedging": {
    "interest_rate_cap": {
      "notional": 50000000.0,
      "strike": 0.04,
      "volatility": 0.2,
      "schedule_years": [
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
      ],
      "premium": 595432.7724620807,
      "break_even_spread_bps": 26.46442670669767,
      "breakeven_floating_rate": 0.04264644267066977,
      "carry_cost_pct": 1.1908655449241614,
      "par_swap_rate": 0.03673665918685987,
      "scenarios": [
        {
          "scenario": "Base",
          "parallel_bps": 0,
          "cap_price": 595432.7724620807,
          "hedge_value": 0.0
        },
        {
          "scenario": "+50bps",
          "parallel_bps": 50,
          "cap_price": 1104590.2964288425,
          "hedge_value": 509157.5239667618
        },
        {
          "scenario": "-50bps",
          "parallel_bps": -50,
          "cap_price": 298651.4508765726,
          "hedge_value": -296781.3215855081
        }
      ],
      "notes": "WP-11 InterestRateCap priced with flat vol; annual resets; premiums in USD."
    },
    "interest_rate_collar": {
      "notional": 50000000.0,
      "cap_strike": 0.04,
      "floor_strike": 0.03,
      "volatility": 0.2,
      "cap_premium": 595432.7724620807,
      "floor_premium": 269293.8777952474,
      "net_premium": 326138.8946668333,
      "carry_cost_bps": 65.22777893336665,
      "effective_rate_band": [
        0.03,
        0.04
      ],
      "zero_cost_floor_strike": 0.03462354483924122,
      "notes": "Collar = long cap, short floor; premiums in USD."
    }
  },
  "dual_structure_comparison": {
    "simulations": 10000,
    "covenant": 1.2,
    "traditional": {
      "breach_probability": 0.2461,
      "breach_count": 2461,
      "min_dscr_mean": 1.542545056179076,
      "min_dscr_std": 0.47991476392563753,
      "min_dscr_p5": 0.8281193126133901,
      "min_dscr_p25": 1.2051926783638909,
      "min_dscr_p50": 1.4967317976749794,
      "min_dscr_p75": 1.8392575469755474,
      "min_dscr_p95": 2.3890494161283646,
      "avg_breach_year": 5.0
    },
    "tokenized": {
      "breach_probability": 0.0271,
      "breach_count": 271,
      "min_dscr_mean": 1.5964191972841462,
      "min_dscr_std": 0.4248444946252052,
      "min_dscr_p5": 1.25,
      "min_dscr_p25": 1.25,
      "min_dscr_p50": 1.4967317976749794,
      "min_dscr_p75": 1.8392575469755474,
      "min_dscr_p95": 2.3890494161283646,
      "avg_breach_year": 14.11070110701107,
      "avg_additional_balloon": 1344174.9790421992,
      "max_additional_balloon": 25000000.0
    },
    "comparison": {
      "breach_probability_reduction": 0.21900000000000003,
      "breach_probability_reduction_pct": 88.9882161722877,
      "breaches_avoided_count": 2190,
      "breaches_avoided_pct": 21.9,
      "dscr_p25_improvement": 0.04480732163610912
    },
    "thesis_summary": {
      "traditional_bankable": false,
      "tokenized_bankable": true,
      "tokenization_enables_bankability": true,
      "key_finding": "DSCR-contingent amortization reduces breach probability from 24.6% to 2.7% (89% reduction), transforming the project from non-bankable to bankable status."
    },
    "config": {
      "principal": 50000000.0,
      "interest_rate": 0.045,
      "tenor_years": 15,
      "grace_years": 4,
      "covenant": 1.2,
      "contingent_amortization": {
        "dscr_floor": 1.25,
        "dscr_target": 1.5,
        "dscr_accelerate": 2.0,
        "max_deferral_pct": 0.3,
        "deferral_rate": 0.12,
        "balloon_cap_pct": 0.5,
        "extension_years": 5,
        "extension_rate_spread": 0.02
      }
    },
    "filtering": {
      "total_scenarios": 10000,
      "valid_scenarios": 10000,
      "filtered_pct": 0.0,
      "filter_reason": "No filtering applied - construction-phase negative CFADS accepted"
    }
  },
  "hedging_comparison": {
    "hedge_config": {
      "notional": 50000000.0,
      "cap_strike": 0.04,
      "floor_strike": 0.03,
      "base_rate": 0.045,
      "cap_premium": 595432.7724620807,
      "collar_net_premium": 326138.8946668333
    },
    "scenarios": {
      "none": {
        "breach_probability": 0.0271,
        "breach_count": 271,
        "min_dscr_p5": 1.25,
        "min_dscr_p25": 1.25,
        "min_dscr_p50": 1.4967317976749794,
        "cost": 0.0
      },
      "cap": {
        "breach_probability": 0.0209,
        "breach_count": 209,
        "min_dscr_p5": 1.25,
        "min_dscr_p25": 1.2592583853617347,
        "min_dscr_p50": 1.5665288335264325,
        "cost": 595432.7724620807
      },
      "collar": {
        "breach_probability": 0.0238,
        "breach_count": 238,
        "min_dscr_p5": 1.25,
        "min_dscr_p25": 1.25,
        "min_dscr_p50": 1.5565338191509843,
        "cost": 326138.8946668333
      }
    },
    "recommendation": "cap",
    "rationale": "Cap provides materially better breach probability reduction",
    "rate_shock_stats": {
      "mean_bps": -2.7755575615628914e-16,
      "std_bps": 149.85401069556525,
      "p5_bps": -245.09885825719914,
      "p95_bps": 245.0988582571991,
      "simulations": 10000
    }
  }
}